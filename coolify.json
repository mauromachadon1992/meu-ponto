{
  "name": "meu-ponto",
  "type": "docker-compose",
  "dockerComposeFile": "docker-compose.coolify.yml",
  "environments": {
    "production": {
      "branch": "main",
      "dockerComposeFile": "docker-compose.coolify.yml",
      "buildCommand": "docker-compose -f docker-compose.coolify.yml build",
      "startCommand": "docker-compose -f docker-compose.coolify.yml up -d",
      "port": 80,
      "domain": "meuponto.example.com",
      "ssl": true,
      "healthCheck": {
        "enabled": true,
        "path": "/health",
        "interval": 30,
        "timeout": 10,
        "retries": 3
      },
      "env": {
        "NODE_ENV": "production",
        "TZ": "America/Sao_Paulo",
        "PORT": "80",
        "API_PORT": "3000",
        "API_URL": "http://api:3000",
        "DATABASE_URL": "postgresql://postgres:CHANGE_ME@postgres:5432/meu_ponto?schema=public",
        "POSTGRES_USER": "postgres",
        "POSTGRES_PASSWORD": "CHANGE_ME_IN_PRODUCTION",
        "POSTGRES_DB": "meu_ponto",
        "JWT_SECRET": "CHANGE_ME_TO_RANDOM_SECURE_STRING",
        "JWT_EXPIRES_IN": "7d"
      }
    },
    "staging": {
      "branch": "staging",
      "dockerComposeFile": "docker-compose.coolify.yml",
      "buildCommand": "docker-compose -f docker-compose.coolify.yml build",
      "startCommand": "docker-compose -f docker-compose.coolify.yml up -d",
      "port": 80,
      "domain": "staging.meuponto.example.com",
      "ssl": true,
      "healthCheck": {
        "enabled": true,
        "path": "/health",
        "interval": 30,
        "timeout": 10,
        "retries": 3
      },
      "env": {
        "NODE_ENV": "production",
        "TZ": "America/Sao_Paulo",
        "PORT": "80",
        "API_PORT": "3000",
        "API_URL": "http://api:3000",
        "DATABASE_URL": "postgresql://postgres:STAGING_PASSWORD@postgres:5432/meu_ponto_staging?schema=public",
        "POSTGRES_USER": "postgres",
        "POSTGRES_PASSWORD": "STAGING_PASSWORD",
        "POSTGRES_DB": "meu_ponto_staging",
        "JWT_SECRET": "STAGING_JWT_SECRET",
        "JWT_EXPIRES_IN": "7d"
      }
    },
    "development": {
      "branch": "dev",
      "dockerComposeFile": "docker-compose.coolify.dev.yml",
      "buildCommand": "docker-compose -f docker-compose.coolify.dev.yml build",
      "startCommand": "docker-compose -f docker-compose.coolify.dev.yml up -d",
      "port": 4200,
      "domain": "dev.meuponto.example.com",
      "ssl": true,
      "healthCheck": {
        "enabled": true,
        "path": "/",
        "interval": 30,
        "timeout": 10,
        "retries": 3
      },
      "env": {
        "NODE_ENV": "development",
        "TZ": "America/Sao_Paulo",
        "PORT": "4200"
      }
    }
  },
  "resources": {
    "limits": {
      "cpus": "0.5",
      "memory": "512M"
    },
    "reservations": {
      "cpus": "0.25",
      "memory": "256M"
    }
  },
  "webhook": {
    "enabled": true,
    "events": ["push", "pull_request"]
  },
  "notifications": {
    "enabled": true,
    "channels": ["discord", "email"],
    "events": ["deploy_failed", "deploy_success", "container_stopped"]
  }
}
